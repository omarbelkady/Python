#sockets = very imp in PenTesting with Python initialize connections and allow to send/receive data
# socket is an internal endpoint of sending and receiving data and works locally

#TCP is a connection oriented protocol which involves you performing a 3way handshake to initialize a connection
#with a server and a client

#Connectionless type such as UDP use the socket type DGram

'''
Methods That Will be used:
    * bind=> bind host and port to a socket
    * listen => start the TCP listeneer
    * accept => accept incoming TCP client information
    * send => send a TCP message over TCP
    * receive => receive TCP messages over TCP
    * close => close the socket and therefore end the connection
'''
#!/usr/bin/python3
import socket

#AF_INET means I am using iPv4
serversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

host = socket.gethostname() #host is the def server IP

port = 444 #This is the port we will be listening on

serversocket.bind((host,port))

#Listen to TCP Connections from the client to connect from the server to many computers specify a number e.g. 2,4, 
serversocket.listen(3)

while True:
    clientsocket, address = serversocket.accept()

    print("Received connection from "% str(address))
    message= 'Thank you for connecting to the 63527 Server!' + "\r\n"

    #what will be sent to the client once they connect to the server
    clientsocket.send(message)

    clientsocket.close()
